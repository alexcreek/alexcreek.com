<!DOCTYPE html>
<html lang="en">
<head>
        <title>War Against Computers - Articles by alex</title>
        <meta charset="utf-8" />
        <link href="alexcreek.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="War Against Computers Full Atom Feed" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" href="../../favicon.ico">

    <!-- Google web fonts -->
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,900' rel='stylesheet' type='text/css'>

    <!-- Bootstrap core CSS -->
    <link href="../theme/css/bootstrap.min.css" rel="stylesheet"> 

    <!-- Custom styles for this template -->
    <link href="../theme/css/starter-template.css" rel="stylesheet"> 
    
    <!-- Search CSS -->
    <link rel="stylesheet" href="../theme/tipuesearch/tipuesearch.css"> 
</head>

 <body>
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
                    <li><a href="/">Home</a></li>
                    <li><a href="../category/code.html">Code</a></li>
                    <li><a href="../category/networking.html">Networking</a></li>
                    <li><a href="../category/system-administration.html">System Administration</a></li>
          </ul>
<!--                <form id="searchform" action="/search.html" onsubmit="return (this.elements['q'].value.length > 0)">
                    <div class="form-group">
                        <input class="form-control" id="searchbox" type="text" name="q" size="12" placeholder="Search">
                    </div>
                </form> -->
        </div><!--/.nav-collapse -->
      </div>
    </div>
    <div class="container">
<body id="index" class="home">
        <header id="banner" class="body">
                <h1 class="header"><a href="../">War Against Computers <strong></strong></a></h1>
        </header><!-- /#banner -->

<section id="content">
<!-- <h2>Articles by alex</h2>
 -->

<ul id="post-list">
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../apache-ssl-configuration-snippets.html" rel="bookmark" title="Permalink to Apache SSL Configuration Snippets">Apache SSL Configuration Snippets</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2054-04-01T00:00:00-05:00"> Wed 01 April 2054 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <h2>Certificates, Protocols and Options</h2>
<div class="highlight"><pre>SSLEngine on
SSLCertificateFile /etc/apache2/ssl/cert.pem
SSLCertificateKeyFile /etc/apache2/ssl/cert.pem
SSLCACertificateFile /etc/apache2/ssl/ca-certs.pem
SSLProtocol all -SSLv2 -SSLv3
SSLHonorCipherOrder on          # Ciphers specified by the server take precedence
# Optional, defaults to off
SSLInsecureRenegotiation off    # Mitigates CVE-2009-3555
SSLCompression off              # Mitigates CRIME and ...</pre></div> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../sending-everything-to-syslog.html" rel="bookmark" title="Permalink to Sending Everything to Syslog">Sending Everything to Syslog</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2016-01-29T23:29:29.871215-05:00"> Fri 29 January 2016 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>This is a running collection of syslog settings for various applications</p>
<h2>Apache</h2>
<p>Apache natively has the ability to send error logs to syslog, but if that method is used then the severity of each message is not uniform and searching is slightly more involved. By piping error logs to <code>logger ...</code></p> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../get-proxied-client-ip-with-apache.html" rel="bookmark" title="Permalink to Get proxied client IP with apache">Get proxied client IP with apache</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2015-02-10T00:00:00-05:00"> Tue 10 February 2015 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>Using <code>mod_remoteip</code> and modifying apache's log format, real client IP addresses can easily be captured</p>
<h2>Enable and configure mod_remoteip</h2>
<div class="highlight"><pre>LoadModule remoteip_module modules/mod_remoteip.so
<span class="nt">&lt;IfModule</span> <span class="err">mod_remoteip.c</span><span class="nt">&gt;</span>
    RemoteIPHeader          X-Forwarded-For  # YMMV for different load balancers
    RemoteIPInternalProxy   127.0.0.1
<span class="nt">&lt;/IfModule&gt;</span>
</pre></div>


<h2>Modify log variables</h2>
<p>Replace the remote hostname variable, <code>%h ...</code></p> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../apache-enable-sni.html" rel="bookmark" title="Permalink to Apache enable SNI">Apache enable SNI</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2015-01-01T00:00:00-05:00"> Thu 01 January 2015 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <h3>Problem:</h3>
<p>The proper versions of apache and OpenSSL are installed to support SNI but when multiple SSL certificates are configured in apache you get the following errors in the error.log and apache fails to start.</p>
<div class="highlight"><pre>[ssl:emerg] [pid 48715] AH02242: Init: Multiple RSA server certificates not allowed
[ssl:emerg ...</pre></div> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../oneliners-every-sysadmin-should-know.html" rel="bookmark" title="Permalink to Oneliners every sysadmin should know">Oneliners every sysadmin should know</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-12-24T00:00:00-05:00"> Wed 24 December 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <h2>Apache</h2>
<h3>Dump virtualhosts</h3>
<div class="highlight"><pre>apachectl -S
</pre></div>


<h3>Dump enabled modules</h3>
<div class="highlight"><pre>apachectl -M
</pre></div>


<h3>Show version and current MPM (and compile options)</h3>
<div class="highlight"><pre>apachectl -V
</pre></div>


<h3>Test config file</h3>
<div class="highlight"><pre>apachectl -t
</pre></div>


<h2>PHP</h2>
<h2>Test config file</h2>
<div class="highlight"><pre>php -t
</pre></div>


<h2>Show phpinfo()</h2>
<div class="highlight"><pre>php -i
</pre></div>


<h2>Dump configured modules</h2>
<div class="highlight"><pre>php -m
</pre></div>


<h2>Show loaded ini files</h2>
<div class="highlight"><pre>php --ini
</pre></div>


<h2>Mysql</h2>
<h3>Test config file ...</h3> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../mysql-cheatsheet.html" rel="bookmark" title="Permalink to Mysql Cheatsheet">Mysql Cheatsheet</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-12-15T00:00:00-05:00"> Mon 15 December 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <h2>Secure Operations</h2>
<h3>Configure securely</h3>
<div class="highlight"><pre>sudo mysql_secure_installation
</pre></div>


<h3>Running securely</h3>
<div class="highlight"><pre>sudo mysqld_safe
</pre></div>


<h2>Managing Users</h2>
<h3>List users</h3>
<div class="highlight"><pre><span class="k">SELECT</span> <span class="k">user</span> <span class="k">FROM</span> <span class="n">mysql</span><span class="p">.</span><span class="k">user</span><span class="p">;</span>
</pre></div>


<h3>Create a user and assign permissions for a database</h3>
<div class="highlight"><pre>GRANT ALL PRIVILEGES ON &lt;database&gt;.* TO &lt;newuser&gt;@&lt;hostname&gt; IDENTIFIED BY &#39;&lt;password&gt;&#39;;
</pre></div>


<h3>Reset a user's password</h3>
<div class="highlight"><pre>SET PASSWORD FOR &#39;&lt;user&gt;&#39;@&#39;&lt;hostname&gt;&#39;=PASSWORD ...</pre></div> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../enable-passive-mode-ftp.html" rel="bookmark" title="Permalink to Enable passive mode FTP">Enable passive mode FTP</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-12-11T00:00:00-05:00"> Thu 11 December 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>I've found that getting passive FTP transfers to work has often been the most frustrating part of setting up a server.  Because of that, here are instructions for configuring passive mode for the most popular FTP servers.</p>
<h2>proFTPD</h2>
<div class="highlight"><pre>vi /etc/proftpd.conf
PassivePorts 30000 50000
</pre></div>


<h2>vsftpd</h2>
<div class="highlight"><pre>vi /etc/vsftpd ...</pre></div> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../find-wordpress-versions.html" rel="bookmark" title="Permalink to Find wordpress versions">Find wordpress versions</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-12-11T00:00:00-05:00"> Thu 11 December 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <div class="highlight"><pre><span class="x">find . -iname &#39;version.php&#39; -exec grep &#39;</span><span class="p">$</span><span class="nv">wp_version</span><span class="x">&#39; &#39;</span><span class="err">{</span><span class="x">}&#39; \;</span>
</pre></div> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../custom-rsyslog-filters.html" rel="bookmark" title="Permalink to Custom Rsyslog filters">Custom Rsyslog filters</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-12-08T00:00:00-05:00"> Mon 08 December 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>Rsyslog has the ability to filter messages by pattern matching properties within a message.</p>
<div class="highlight"><pre><span class="o">:</span><span class="p">[</span><span class="n">property</span><span class="p">],</span> <span class="p">[</span><span class="o">!</span><span class="p">][</span><span class="n">compare</span> <span class="n">type</span><span class="p">],</span> <span class="s">&quot;[string]&quot;</span>
</pre></div>


<p>So to match all proftpd logs and send them to a specific file, we can search the app-name property for proftpd</p>
<div class="highlight"><pre>:app-name, isequal, &quot;proftpd&quot;   /var/log/proftpd/proftpd.log
~
</pre></div>


<p>That would be ...</p> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../using-htpasswd-files-with-cpanel.html" rel="bookmark" title="Permalink to Using htpasswd files with cPanel">Using htpasswd files with cPanel</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-11-28T00:00:00-05:00"> Fri 28 November 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>When specifying the location to an htpasswd file, the path must be relative to the webserver's ServerRoot.  Shared hosting often doesn't provide access to the ServerRoot nor do they tell their account holders what it is.  Well, chances are it's <code>/usr/local/apache/</code>.  Now that we know ...</p> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../setup-an-email-server-with-exim-courier-and-spamassassin.html" rel="bookmark" title="Permalink to Setup an email server with exim courier and spamassassin">Setup an email server with exim courier and spamassassin</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-11-15T00:00:00-05:00"> Sat 15 November 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p></br>
1. <a href="#Install_Exim">Install exim</a></br>
2. <a href="#Install_Spamassasin">Install spamassassin</a></br>
3. <a href="#Install_Courier">Install courier</a></br>
</br></p>
<p><a name="Install_Exim"></a></p>
<h1>Exim</h1>
<h3>1) Install exim</h3>
<div class="highlight"><pre>sudo apt-get install exim4-daemon-heavy
</pre></div>


<h3>2) Configure</h3>
<div class="highlight"><pre>sudo dpkg-reconfigure exim4-configure
</pre></div>


<h3>3) Harden</h3>
<p>Reduce banner information</p>
<div class="highlight"><pre>vi /etc/exim4/exim4.conf.template
    # Add
    smtp_banner = $smtp_active_hostname ESMTP    
</pre></div>


<p>If not required, disable ipv6</p>
<div class="highlight"><pre>vi /etc/exim4/exim4.conf.template
    # Add
    disable_ipv6 ...</pre></div> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../shellinabox-web-shell.html" rel="bookmark" title="Permalink to Shellinabox Web Shell">Shellinabox Web Shell</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-29T00:00:00-04:00"> Wed 29 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>Shellinabox is a browser based, login shell, built using css, html and javascript and it runs entirely over HTTP.  At a high level, shellinabox is very similar to an SSH shell session.  They both utilize the <code>/etc/passwd</code> user database, they both make use of <code>PAM</code>, and they both execute ...</p> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../manage-websites-and-ftp-permissions-with-webmin.html" rel="bookmark" title="Permalink to Manage websites and FTP permissions with Webmin">Manage websites and FTP permissions with Webmin</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-28T00:00:00-04:00"> Tue 28 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>So the question at hand is, how can we setup Webmin to create websites and have an ftp user that can manage the sites with minimal overhead? 
This can be done in 3 steps:</p>
<h3>1) Create an ftp user, make their home directory the toplevel directory of the default DocumentRoot ...</h3> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../add-an-ssl-cert-to-zpanel.html" rel="bookmark" title="Permalink to Add an SSL Cert to Zpanel">Add an SSL Cert to Zpanel</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-25T00:00:00-04:00"> Sat 25 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>Zpanel keeps it's control panel and client configurations in the same file <code>/etc/zpanel/configs/apache/httpd-vhosts.conf</code>.  When changes are made to any of the panel's domains, this file is automatically updated.  This overwrites any changes to the panel's vhost config as well. </p>
<p>To avoid having ...</p> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../git-cheatsheet.html" rel="bookmark" title="Permalink to Git Cheatsheet">Git Cheatsheet</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-25T00:00:00-04:00"> Sat 25 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <h2>How to commit properly</h2>
<p>Commit all files in the working tree that have been modified</p>
<div class="highlight"><pre>git commit -am &#39;commit message&#39;
</pre></div>


<p>Commit a file individually</p>
<div class="highlight"><pre>git commit -m &#39;commit message&#39;
</pre></div>


<h2>How not to commit</h2>
<p>Only commit changes staged in the index, not all modified files</p>
<div class="highlight"><pre>git commit -m &#39;commit message&#39;
</pre></div>


<h2>Remove ...</h2> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../backing-up-with-rsync-and-tar.html" rel="bookmark" title="Permalink to Backing Up With Rsync and Tar">Backing Up With Rsync and Tar</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-24T00:00:00-04:00"> Fri 24 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p><code>rsync</code> is used to copy files and <code>tar</code> is used for compression</p>
<script src="https://gist.github.com/alexcreek/907ce5553ee5b4078f74.js"></script> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../send-html-email-from-the-command-line.html" rel="bookmark" title="Permalink to Send HTML email from the command line">Send HTML email from the command line</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-24T00:00:00-04:00"> Fri 24 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>Sometimes there's nothing better than receiving an email from some long forgotten cronjob and having it formatted in nice readable HTML.  Well it's alot tougher than it should be to make that happen.  </p>
<p>The only way I've found to accomplish this is to inject 'Content-Type' headers into ...</p> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../creating-certificates-with-openssl.html" rel="bookmark" title="Permalink to Creating certificates with openssl">Creating certificates with openssl</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-21T00:00:00-04:00"> Tue 21 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <h2>Self Signed Cert</h2>
<p>Create a single .pem file containing both the private (key) and public (cert) keys.</p>
<div class="highlight"><pre>openssl req -x509 -nodes -days 730 -newkey rsa:2048 -keyout site.pem -out site.pem
</pre></div>


<h2>CSR</h2>
<p>Create an certificate signing request</p>
<div class="highlight"><pre>openssl req -new -newkey rsa:2048 -nodes -keyout site.key -out site ...</pre></div> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../setup-logstash-elk-stack.html" rel="bookmark" title="Permalink to Setup logstash (ELK stack)">Setup logstash (ELK stack)</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-17T00:00:00-04:00"> Fri 17 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>Logstash is a log processing supertool written in ruby and packaged using the java implementation of ruby, jruby. In other words, it's a ruby app that runs on java.  Logstash accepts just about any type of data you can throw at it (apache logs file, syslog data, Windows logs ...</p> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../get-http-headers-using-php.html" rel="bookmark" title="Permalink to Get HTTP Headers Using PHP">Get HTTP Headers Using PHP</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-03T00:00:00-04:00"> Fri 03 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>The <code>getenv()</code> function is used to parse enviroment variables created by the webserver executing the php code, including HTTP Headers.  </p>
<div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$client_ip</span> <span class="o">=</span> <span class="nb">getenv</span><span class="p">(</span><span class="s1">&#39;REMOTE_ADDR&#39;</span><span class="p">);</span>
<span class="nv">$user_agent</span> <span class="o">=</span> <span class="nb">getenv</span><span class="p">(</span><span class="s1">&#39;HTTP_USER_AGENT&#39;</span><span class="p">);</span>

<span class="k">echo</span> <span class="s2">&quot;Client IP: </span><span class="si">$client_ip</span><span class="s2">&lt;/br&gt;&quot;</span>
<span class="k">echo</span> <span class="s2">&quot;User Agent: </span><span class="si">$user_agent</span><span class="s2">&lt;/br&gt;&quot;</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>


<p>Using conditional statements, the headers can be parsed and then actions taken based ...</p> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../apache-add-www-to-domain.html" rel="bookmark" title="Permalink to Apache add www to domain">Apache add www to domain</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-02T00:00:00-04:00"> Thu 02 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <div class="highlight"><pre>RewriteEngine on
RewriteCond %{HTTP_HOST} ^domain.com$ [NC]
RewriteRule (.*) http://www.domain.com$1 [R=301,L]
</pre></div>


<div class="highlight"><pre>RewriteEngine on
RewriteCond %{HTTP_HOST} ^domain.com$ [NC]
RewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]
</pre></div> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../bash-oneliners.html" rel="bookmark" title="Permalink to Bash Oneliners">Bash Oneliners</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-02T00:00:00-04:00"> Thu 02 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <h2>Infinite while loops</h2>
<div class="highlight"><pre><span class="k">while</span> true<span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;It Never Ends&quot;</span><span class="p">;</span> <span class="k">done</span>
</pre></div>


<p>The key is the placement of the semicolons. </p>
<div class="highlight"><pre><span class="k">while</span> true<span class="p">;</span> <span class="k">do</span> <span class="o">((</span>x++<span class="o">))</span><span class="p">;</span> <span class="nb">echo</span> $x <span class="sb">`</span>date +%T<span class="sb">`</span><span class="p">;</span> <span class="k">done</span>
<span class="k">while</span> true<span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;Can you feel it?&quot;</span> <span class="p">|</span> mail -s <span class="s1">&#39;SMTP Test&#39;</span> admin@theHeazy.com<span class="p">;</span> <span class="k">done</span>
</pre></div> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../configure-linux-as-a-router.html" rel="bookmark" title="Permalink to Configure Linux as a Router">Configure Linux as a Router</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-02T00:00:00-04:00"> Thu 02 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>This guide is for a dual NIC machine.  The machine will use iptable's NAT feature to act as a router/gateway.  This guide does not require editing of the system's routing table.</p>
<p>1) Enable routing in the kernel</p>
<div class="highlight"><pre>sudo vi /etc/sysctl.conf
net.ipv4.ip_forward <span class="o">=</span> <span class="m">1</span>     <span class="c1"># Uncomment ...</span></pre></div> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../fix-locale-errors.html" rel="bookmark" title="Permalink to Fix Locale Errors">Fix Locale Errors</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-02T00:00:00-04:00"> Thu 02 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>In an effort to minimize a system's footprint, providers will sometimes rip out the language files.  This will cause irritating locale errors such as:</p>
<div class="highlight"><pre>perl: warning: Setting locale failed. 
perl: warning: Please check that your locale settings:
LANGUAGE = &quot;&quot;,
LC_ALL = (unset),
LANG = &quot;&quot;,
are supported and installed on your system. 
perl ...</pre></div> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../nagios-tutorial.html" rel="bookmark" title="Permalink to Nagios Tutorial">Nagios Tutorial</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-02T00:00:00-04:00"> Thu 02 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <blockquote>
<p>"Nagios is an open source computer system monitoring, network monitoring and infrastructure monitoring software application. Nagios offers monitoring and alerting services for servers, switches, applications, and services. It alerts the users when things go wrong and alerts them when the problem has been resolved." -- wikipedia</p>
</blockquote>
<p>Nagios is relatively easy to ...</p> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../ncat-cheatsheet.html" rel="bookmark" title="Permalink to Ncat Cheatsheet">Ncat Cheatsheet</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-02T00:00:00-04:00"> Thu 02 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>Ncat is a modernized implementation of the classic Netcat (nc) networking tool. The current version of nc, which is 1.10, was initially released in 1996 by "The Hobbit". A lot's changed since '96. Thankfully, the wonderful people at The Nmap Project decided that to solve modern problems you ...</p> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../netcat-cheatsheet.html" rel="bookmark" title="Permalink to Netcat Cheatsheet">Netcat Cheatsheet</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-02T00:00:00-04:00"> Thu 02 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <h2>Open a socket</h2>
<div class="highlight"><pre>nc -vlp port
</pre></div>


<h2>Send file to client</h2>
<p>Server side, opens a socket and closes it once file is transferred</p>
<div class="highlight"><pre>nc -vlp port -q 0 &lt; file.send
</pre></div>


<p>Client side</p>
<div class="highlight"><pre>nc -v server port &gt; file.receive
</pre></div>


<h2>Send file to server</h2>
<p>Server side, opens a socket and waits to receive ...</p> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../port-forwarding-with-iptables.html" rel="bookmark" title="Permalink to Port Forwarding with iptables">Port Forwarding with iptables</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-02T00:00:00-04:00"> Thu 02 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>Configuring a port forward with iptables takes 2 rules, a PREROUTING rule and a FORWARD rule. The heavy lifting is accomplished by the PREROUTING rule on the nat table. The FORWARD rule simply allows traffic across the FORWARD chain on the filter table.</p>
<div class="highlight"><pre>iptables -A PREROUTING -t nat -i [external_iface ...</pre></div> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../sed-tutorial.html" rel="bookmark" title="Permalink to Sed Tutorial">Sed Tutorial</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-02T00:00:00-04:00"> Thu 02 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>Sed's primary function is to search for and replace text; we call this process "substitution".  Additionally, sed can easily append, insert and delete text.  The syntax can be somewhat intimidating to the new user.</p>
<div class="highlight"><pre>sed &#39;command/pattern/replacement/flags&#39; file.txt
sed &#39;\pattern\|line_number command/input_text/&#39; file.txt
</pre></div>


<p>The ...</p> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="../ssh-cheatsheet.html" rel="bookmark" title="Permalink to SSH Cheatsheet">SSH Cheatsheet</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2014-10-02T00:00:00-04:00"> Thu 02 October 2014 </abbr>
                    <address class="vcard author">By
                        <a class="url fn" href="../author/alex.html">alex</a>
                    </address>
                </footer><!-- /.post-info -->
                <div class="entry-content"> <h2>Forward a local port through an intermediary host to a remote host</h2>
<p>Opens a shell on intermediary host and forwards a port to remote host through SSH's secure channel.  The forwarded port is accessible  on the local machine via localhost:port</p>
<div class="highlight"><pre>ssh -L localport:remotehost:remoteport user@intermediary_host
</pre></div>


<h2>Execute ...</h2> </div><!-- /.entry-content -->
        </article></li>
</ul><!-- /#posts-list -->
</section><!-- /#content -->
    </div>

<script type="text/javascript">
    var disqus_shortname = 'alexcreekcom';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
        
        <footer id="contentinfo" class="container">
                <address id="about" class="vcard body">
                </br>Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="../theme/js/bootstrap.min.js"></script>
    
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
	var pageTracker = _gat._getTracker("UA-56063544-1");
pageTracker._trackPageview();
} catch(err) {}</script>

    
</body>
</html>
