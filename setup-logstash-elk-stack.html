<!DOCTYPE html>
<html lang="en">
<head>
          <title>Stuff I Wanna Remember</title>
        <meta charset="utf-8" />
        <link href="alexcreek.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Stuff I Wanna Remember Full Atom Feed" />
        <link href="alexcreek.com/feeds/system-administration.atom.xml" type="application/atom+xml" rel="alternate" title="Stuff I Wanna Remember Categories Atom Feed" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" href="../../favicon.ico">





    <!-- Google web fonts -->
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,900' rel='stylesheet' type='text/css'>

    <!-- Bootstrap core CSS -->
    <link href="./theme/css/bootstrap.min.css" rel="stylesheet"> 

    <!-- Custom styles for this template -->
    <link href="./theme/css/starter-template.css" rel="stylesheet"> 
    
    <!-- Search CSS -->
    <link rel="stylesheet" href="./theme/tipuesearch/tipuesearch.css"> 
</head>

 <body>
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
                    <li><a href="/">Home</a></li>
                    <li><a href="./category/code.html">Code</a></li>
                    <li><a href="./category/networking.html">Networking</a></li>
                    <li class="active"><a href="./category/system-administration.html">System Administration</a></li>
          </ul>
<!--                <form id="searchform" action="/search.html" onsubmit="return (this.elements['q'].value.length > 0)">
                    <div class="form-group">
                        <input class="form-control" id="searchbox" type="text" name="q" size="12" placeholder="Search">
                    </div>
                </form> -->
        </div><!--/.nav-collapse -->
      </div>
    </div>
    <div class="container">
<body id="index" class="home">
        <header id="banner" class="body">
                <h1 class="header"><a href="./">Stuff I Wanna Remember <strong></strong></a></h1>
        </header><!-- /#banner -->

<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="./setup-logstash-elk-stack.html" rel="bookmark"
         title="Permalink to Setup logstash (ELK stack)">Setup logstash (ELK stack)</a></h2>
 
  </header>
  <footer class="post-info">
    <abbr class="published" title="2014-10-17T00:00:00-04:00">
      Fri 17 October 2014
    </abbr>
    <address class="vcard author">
      By           <a class="url fn" href="./author/alex.html">alex</a>
    </address>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>Logstash is a log processing supertool written in ruby and packaged using the java implementation of ruby, jruby. In other words, it's a ruby app that runs on java.  Logstash accepts just about any type of data you can throw at it (apache logs file, syslog data, Windows logs, random data from the 80's), parses it and creates meaningful, structured, searchable information out of it. </p>
<p>Elasticsearch is a high performance database that utilizes the search engine library, Apache Lucene. </p>
<p>Kibana is a powerful browser-based dashboard built with HTML and Javascript that is the primary interface to the mounds of data stored in Elasticsearch. </p>
<p>Together these create the ELK stack. Logstash munges the data, elasticsearch sifts through the data and kibana presents the data. </p>
<h1>Installation</h1>
<p>Check <a href="http://www.elasticsearch.org/overview/elkdownloads/">here</a> for the latest builds </p>
<p>1) Install java</p>
<div class="highlight"><pre>apt-get install openjdk-7-jre-headless
</pre></div>


<p>2) Download and install logstash and elasticsearch</p>
<div class="highlight"><pre>wget https://download.elasticsearch.org/elasticsearch/elasticsearch/elasticsearch-1.3.4.deb
wget https://download.elasticsearch.org/logstash/logstash/packages/debian/logstash_1.4.2-1-2c0f5a1_all.deb
wget https://download.elasticsearch.org/logstash/logstash/packages/debian/logstash-contrib_1.4.2-1-efd53ef_all.deb
dpkg -i elasticsearch-1.3.4.deb
dpkg -i logstash_1.4.2-1-2c0f5a1_all.deb
dpkg -i logstash-contrib_1.4.2-1-efd53ef_all.deb
</pre></div>


<p>Optionally, you can follow <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/setup-repositories.html#_apt">these</a> steps to add the repos to your system and install using your package manager. [HINT: This makes upgrading easier]</p>
<p>3) Configure </p>
<p>3) Install kibana</p>
<div class="highlight"><pre>wget https://download.elasticsearch.org/kibana/kibana/kibana-3.1.1.tar.gz
tar -xzvf kibana-3.1.1.tar.gz

sudo vi ~/kibana-3.0.1/config.js
elasticsearch: &quot;http://&quot;+window.location.hostname+&quot;:80&quot;,


sudo mkdir -p /var/www/kibana3

sudo cp -R ~/kibana-3.0.1/* /var/www/kibana3/
</pre></div>


<p>4) Install nginx</p>
<p>Download the modifed nginx config from here</p>
  </div><!-- /.entry-content -->
</section>
    </div>

<script type="text/javascript">
    var disqus_shortname = 'alexcreekcom';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
        
        <footer id="contentinfo" class="container">
                <address id="about" class="vcard body">
                </br>Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="./theme/js/bootstrap.min.js"></script>
    
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
	var pageTracker = _gat._getTracker("UA-56063544-1");
pageTracker._trackPageview();
} catch(err) {}</script>

    
</body>
</html>
